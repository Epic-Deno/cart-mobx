{"ast":null,"code":"import { Reaction, _allowStateChanges, configure, createAtom, getDebugName, isObservableArray, isObservableMap, isObservableObject, spy, untracked } from 'mobx';\nimport React, { Children, Component, createElement } from 'react';\nimport { findDOMNode, unstable_batchedUpdates } from 'react-dom'; // These functions can be stubbed out in specific environments\n\nvar unstable_batchedUpdates$1 = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar asyncGenerator = function () {\n  function AwaitValue(value) {\n    this.value = value;\n  }\n\n  function AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function (resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n\n        if (value instanceof AwaitValue) {\n          Promise.resolve(value.value).then(function (arg) {\n            resume(\"next\", arg);\n          }, function (arg) {\n            resume(\"throw\", arg);\n          });\n        } else {\n          settle(result.done ? \"return\" : \"normal\", result.value);\n        }\n      } catch (err) {\n        settle(\"throw\", err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case \"return\":\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case \"throw\":\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== \"function\") {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n    AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n      return this;\n    };\n  }\n\n  AsyncGenerator.prototype.next = function (arg) {\n    return this._invoke(\"next\", arg);\n  };\n\n  AsyncGenerator.prototype.throw = function (arg) {\n    return this._invoke(\"throw\", arg);\n  };\n\n  AsyncGenerator.prototype.return = function (arg) {\n    return this._invoke(\"return\", arg);\n  };\n\n  return {\n    wrap: function (fn) {\n      return function () {\n        return new AsyncGenerator(fn.apply(this, arguments));\n      };\n    },\n    await: function (value) {\n      return new AwaitValue(value);\n    }\n  };\n}();\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar EventEmitter = function () {\n  function EventEmitter() {\n    classCallCheck(this, EventEmitter);\n    this.listeners = [];\n  }\n\n  createClass(EventEmitter, [{\n    key: \"on\",\n    value: function on(cb) {\n      var _this = this;\n\n      this.listeners.push(cb);\n      return function () {\n        var index = _this.listeners.indexOf(cb);\n\n        if (index !== -1) _this.listeners.splice(index, 1);\n      };\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(data) {\n      this.listeners.forEach(function (fn) {\n        return fn(data);\n      });\n    }\n  }]);\n  return EventEmitter;\n}();\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n\n\n'use strict';\n\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar defineProperty$1 = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = getPrototypeOf && getPrototypeOf(Object);\n\nvar hoistNonReactStatics = function hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!REACT_STATICS[key] && !KNOWN_STATICS[key] && (!blacklist || !blacklist[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty$1(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n\n    return targetComponent;\n  }\n\n  return targetComponent;\n}; // Copied from React.PropTypes\n\n\nfunction createChainableTypeChecker(validate) {\n  function checkType(isRequired, props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 6 ? _len - 6 : 0), _key = 6; _key < _len; _key++) {\n      rest[_key - 6] = arguments[_key];\n    }\n\n    return untracked(function () {\n      componentName = componentName || \"<<anonymous>>\";\n      propFullName = propFullName || propName;\n\n      if (props[propName] == null) {\n        if (isRequired) {\n          var actual = props[propName] === null ? \"null\" : \"undefined\";\n          return new Error(\"The \" + location + \" `\" + propFullName + \"` is marked as required \" + \"in `\" + componentName + \"`, but its value is `\" + actual + \"`.\");\n        }\n\n        return null;\n      } else {\n        return validate.apply(undefined, [props, propName, componentName, location, propFullName].concat(rest));\n      }\n    });\n  }\n\n  var chainedCheckType = checkType.bind(null, false);\n  chainedCheckType.isRequired = checkType.bind(null, true);\n  return chainedCheckType;\n} // Copied from React.PropTypes\n\n\nfunction isSymbol(propType, propValue) {\n  // Native Symbol.\n  if (propType === \"symbol\") {\n    return true;\n  } // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n\n\n  if (propValue[\"@@toStringTag\"] === \"Symbol\") {\n    return true;\n  } // Fallback for non-spec compliant Symbols which are polyfilled.\n\n\n  if (typeof Symbol === \"function\" && propValue instanceof Symbol) {\n    return true;\n  }\n\n  return false;\n} // Copied from React.PropTypes\n\n\nfunction getPropType(propValue) {\n  var propType = typeof propValue === \"undefined\" ? \"undefined\" : _typeof(propValue);\n\n  if (Array.isArray(propValue)) {\n    return \"array\";\n  }\n\n  if (propValue instanceof RegExp) {\n    // Old webkits (at least until Android 4.0) return 'function' rather than\n    // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n    // passes PropTypes.object.\n    return \"object\";\n  }\n\n  if (isSymbol(propType, propValue)) {\n    return \"symbol\";\n  }\n\n  return propType;\n} // This handles more types than `getPropType`. Only used for error messages.\n// Copied from React.PropTypes\n\n\nfunction getPreciseType(propValue) {\n  var propType = getPropType(propValue);\n\n  if (propType === \"object\") {\n    if (propValue instanceof Date) {\n      return \"date\";\n    } else if (propValue instanceof RegExp) {\n      return \"regexp\";\n    }\n  }\n\n  return propType;\n}\n\nfunction createObservableTypeCheckerCreator(allowNativeType, mobxType) {\n  return createChainableTypeChecker(function (props, propName, componentName, location, propFullName) {\n    return untracked(function () {\n      if (allowNativeType) {\n        if (getPropType(props[propName]) === mobxType.toLowerCase()) return null;\n      }\n\n      var mobxChecker = void 0;\n\n      switch (mobxType) {\n        case \"Array\":\n          mobxChecker = isObservableArray;\n          break;\n\n        case \"Object\":\n          mobxChecker = isObservableObject;\n          break;\n\n        case \"Map\":\n          mobxChecker = isObservableMap;\n          break;\n\n        default:\n          throw new Error(\"Unexpected mobxType: \" + mobxType);\n      }\n\n      var propValue = props[propName];\n\n      if (!mobxChecker(propValue)) {\n        var preciseType = getPreciseType(propValue);\n        var nativeTypeExpectationMessage = allowNativeType ? \" or javascript `\" + mobxType.toLowerCase() + \"`\" : \"\";\n        return new Error(\"Invalid prop `\" + propFullName + \"` of type `\" + preciseType + \"` supplied to\" + \" `\" + componentName + \"`, expected `mobx.Observable\" + mobxType + \"`\" + nativeTypeExpectationMessage + \".\");\n      }\n\n      return null;\n    });\n  });\n}\n\nfunction createObservableArrayOfTypeChecker(allowNativeType, typeChecker) {\n  return createChainableTypeChecker(function (props, propName, componentName, location, propFullName) {\n    for (var _len2 = arguments.length, rest = Array(_len2 > 5 ? _len2 - 5 : 0), _key2 = 5; _key2 < _len2; _key2++) {\n      rest[_key2 - 5] = arguments[_key2];\n    }\n\n    return untracked(function () {\n      if (typeof typeChecker !== \"function\") {\n        return new Error(\"Property `\" + propFullName + \"` of component `\" + componentName + \"` has \" + \"invalid PropType notation.\");\n      }\n\n      var error = createObservableTypeCheckerCreator(allowNativeType, \"Array\")(props, propName, componentName);\n      if (error instanceof Error) return error;\n      var propValue = props[propName];\n\n      for (var i = 0; i < propValue.length; i++) {\n        error = typeChecker.apply(undefined, [propValue, i, componentName, location, propFullName + \"[\" + i + \"]\"].concat(rest));\n        if (error instanceof Error) return error;\n      }\n\n      return null;\n    });\n  });\n}\n\nvar observableArray = createObservableTypeCheckerCreator(false, \"Array\");\nvar observableArrayOf = createObservableArrayOfTypeChecker.bind(null, false);\nvar observableMap = createObservableTypeCheckerCreator(false, \"Map\");\nvar observableObject = createObservableTypeCheckerCreator(false, \"Object\");\nvar arrayOrObservableArray = createObservableTypeCheckerCreator(true, \"Array\");\nvar arrayOrObservableArrayOf = createObservableArrayOfTypeChecker.bind(null, true);\nvar objectOrObservableObject = createObservableTypeCheckerCreator(true, \"Object\");\nvar propTypes = Object.freeze({\n  observableArray: observableArray,\n  observableArrayOf: observableArrayOf,\n  observableMap: observableMap,\n  observableObject: observableObject,\n  arrayOrObservableArray: arrayOrObservableArray,\n  arrayOrObservableArrayOf: arrayOrObservableArrayOf,\n  objectOrObservableObject: objectOrObservableObject\n});\n\nfunction isStateless(component) {\n  // `function() {}` has prototype, but `() => {}` doesn't\n  // `() => {}` via Babel has prototype too.\n  return !(component.prototype && component.prototype.render);\n}\n\nvar injectorContextTypes = {\n  mobxStores: objectOrObservableObject\n};\nObject.seal(injectorContextTypes);\nvar proxiedInjectorProps = {\n  contextTypes: {\n    get: function get$$1() {\n      return injectorContextTypes;\n    },\n    set: function set$$1(_) {\n      console.warn(\"Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`\");\n    },\n    configurable: true,\n    enumerable: false\n  },\n  isMobxInjector: {\n    value: true,\n    writable: true,\n    configurable: true,\n    enumerable: true\n  }\n  /**\n   * Store Injection\n   */\n\n};\n\nfunction createStoreInjector(grabStoresFn, component, injectNames) {\n  var _class, _temp2;\n\n  var displayName = \"inject-\" + (component.displayName || component.name || component.constructor && component.constructor.name || \"Unknown\");\n  if (injectNames) displayName += \"-with-\" + injectNames;\n  var Injector = (_temp2 = _class = function (_Component) {\n    inherits(Injector, _Component);\n\n    function Injector() {\n      var _ref;\n\n      var _temp, _this, _ret;\n\n      classCallCheck(this, Injector);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = Injector.__proto__ || Object.getPrototypeOf(Injector)).call.apply(_ref, [this].concat(args))), _this), _this.storeRef = function (instance) {\n        _this.wrappedInstance = instance;\n      }, _temp), possibleConstructorReturn(_this, _ret);\n    }\n\n    createClass(Injector, [{\n      key: \"render\",\n      value: function render() {\n        // Optimization: it might be more efficient to apply the mapper function *outside* the render method\n        // (if the mapper is a function), that could avoid expensive(?) re-rendering of the injector component\n        // See this test: 'using a custom injector is not too reactive' in inject.js\n        var newProps = {};\n\n        for (var key in this.props) {\n          if (this.props.hasOwnProperty(key)) {\n            newProps[key] = this.props[key];\n          }\n        }\n\n        var additionalProps = grabStoresFn(this.context.mobxStores || {}, newProps, this.context) || {};\n\n        for (var _key2 in additionalProps) {\n          newProps[_key2] = additionalProps[_key2];\n        }\n\n        if (!isStateless(component)) {\n          newProps.ref = this.storeRef;\n        }\n\n        return createElement(component, newProps);\n      }\n    }]);\n    return Injector;\n  }(Component), _class.displayName = displayName, _temp2); // Static fields from component should be visible on the generated Injector\n\n  hoistNonReactStatics(Injector, component);\n  Injector.wrappedComponent = component;\n  Object.defineProperties(Injector, proxiedInjectorProps);\n  return Injector;\n}\n\nfunction grabStoresByName(storeNames) {\n  return function (baseStores, nextProps) {\n    storeNames.forEach(function (storeName) {\n      if (storeName in nextProps // prefer props over stores\n      ) return;\n      if (!(storeName in baseStores)) throw new Error(\"MobX injector: Store '\" + storeName + \"' is not available! Make sure it is provided by some Provider\");\n      nextProps[storeName] = baseStores[storeName];\n    });\n    return nextProps;\n  };\n}\n/**\n * higher order component that injects stores to a child.\n * takes either a varargs list of strings, which are stores read from the context,\n * or a function that manually maps the available stores from the context to props:\n * storesToProps(mobxStores, props, context) => newProps\n */\n\n\nfunction inject()\n/* fn(stores, nextProps) or ...storeNames */\n{\n  var grabStoresFn = void 0;\n\n  if (typeof arguments[0] === \"function\") {\n    grabStoresFn = arguments[0];\n    return function (componentClass) {\n      var injected = createStoreInjector(grabStoresFn, componentClass);\n      injected.isMobxInjector = false; // supress warning\n      // mark the Injector as observer, to make it react to expressions in `grabStoresFn`,\n      // see #111\n\n      injected = observer(injected);\n      injected.isMobxInjector = true; // restore warning\n\n      return injected;\n    };\n  } else {\n    var storeNames = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      storeNames[i] = arguments[i];\n    }\n\n    grabStoresFn = grabStoresByName(storeNames);\n    return function (componentClass) {\n      return createStoreInjector(grabStoresFn, componentClass, storeNames.join(\"-\"));\n    };\n  }\n}\n/**\n * dev tool support\n */\n\n\nvar isDevtoolsEnabled = false;\nvar isUsingStaticRendering = false;\nvar warnedAboutObserverInjectDeprecation = false; // WeakMap<Node, Object>;\n\nvar componentByNodeRegistery = typeof WeakMap !== \"undefined\" ? new WeakMap() : undefined;\nvar renderReporter = new EventEmitter();\n\nfunction findDOMNode$2(component) {\n  if (findDOMNode) {\n    try {\n      return findDOMNode(component);\n    } catch (e) {\n      // findDOMNode will throw in react-test-renderer, see:\n      // See https://github.com/mobxjs/mobx-react/issues/216\n      // Is there a better heuristic?\n      return null;\n    }\n  }\n\n  return null;\n}\n\nfunction reportRendering(component) {\n  var node = findDOMNode$2(component);\n  if (node && componentByNodeRegistery) componentByNodeRegistery.set(node, component);\n  renderReporter.emit({\n    event: \"render\",\n    renderTime: component.__$mobRenderEnd - component.__$mobRenderStart,\n    totalTime: Date.now() - component.__$mobRenderStart,\n    component: component,\n    node: node\n  });\n}\n\nfunction trackComponents() {\n  if (typeof WeakMap === \"undefined\") throw new Error(\"[mobx-react] tracking components is not supported in this browser.\");\n  if (!isDevtoolsEnabled) isDevtoolsEnabled = true;\n}\n\nfunction useStaticRendering(useStaticRendering) {\n  isUsingStaticRendering = useStaticRendering;\n}\n/**\n * Errors reporter\n */\n\n\nvar errorsReporter = new EventEmitter();\n/**\n * Utilities\n */\n\nfunction patch(target, funcName) {\n  var runMixinFirst = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var base = target[funcName];\n  var mixinFunc = reactiveMixin[funcName];\n  var f = !base ? mixinFunc : runMixinFirst === true ? function () {\n    mixinFunc.apply(this, arguments);\n    base.apply(this, arguments);\n  } : function () {\n    base.apply(this, arguments);\n    mixinFunc.apply(this, arguments);\n  }; // MWE: ideally we freeze here to protect against accidental overwrites in component instances, see #195\n  // ...but that breaks react-hot-loader, see #231...\n\n  target[funcName] = f;\n}\n\nfunction shallowEqual(objA, objB) {\n  //From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n  if (is(objA, objB)) return true;\n\n  if ((typeof objA === \"undefined\" ? \"undefined\" : _typeof(objA)) !== \"object\" || objA === null || (typeof objB === \"undefined\" ? \"undefined\" : _typeof(objB)) !== \"object\" || objB === null) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return false;\n\n  for (var i = 0; i < keysA.length; i++) {\n    if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction is(x, y) {\n  // From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\n/**\n * ReactiveMixin\n */\n\n\nvar reactiveMixin = {\n  componentWillMount: function componentWillMount() {\n    var _this = this;\n\n    if (isUsingStaticRendering === true) return; // Generate friendly name for debugging\n\n    var initialName = this.displayName || this.name || this.constructor && (this.constructor.displayName || this.constructor.name) || \"<component>\";\n    var rootNodeID = this._reactInternalInstance && this._reactInternalInstance._rootNodeID || this._reactInternalFiber && this._reactInternalFiber._debugID;\n    /**\n     * If props are shallowly modified, react will render anyway,\n     * so atom.reportChanged() should not result in yet another re-render\n     */\n\n    var skipRender = false;\n    /**\n     * forceUpdate will re-assign this.props. We don't want that to cause a loop,\n     * so detect these changes\n     */\n\n    var isForcingUpdate = false;\n\n    function makePropertyObservableReference(propName) {\n      var valueHolder = this[propName];\n      var atom = createAtom(\"reactive \" + propName);\n      Object.defineProperty(this, propName, {\n        configurable: true,\n        enumerable: true,\n        get: function get$$1() {\n          atom.reportObserved();\n          return valueHolder;\n        },\n        set: function set$$1(v) {\n          if (!isForcingUpdate && !shallowEqual(valueHolder, v)) {\n            valueHolder = v;\n            skipRender = true;\n            atom.reportChanged();\n            skipRender = false;\n          } else {\n            valueHolder = v;\n          }\n        }\n      });\n    } // make this.props an observable reference, see #124\n\n\n    makePropertyObservableReference.call(this, \"props\"); // make state an observable reference\n\n    makePropertyObservableReference.call(this, \"state\"); // wire up reactive render\n\n    var baseRender = this.render.bind(this);\n    var reaction = null;\n    var isRenderingPending = false;\n\n    var initialRender = function initialRender() {\n      reaction = new Reaction(initialName + \"#\" + rootNodeID + \".render()\", function () {\n        if (!isRenderingPending) {\n          // N.B. Getting here *before mounting* means that a component constructor has side effects (see the relevant test in misc.js)\n          // This unidiomatic React usage but React will correctly warn about this so we continue as usual\n          // See #85 / Pull #44\n          isRenderingPending = true;\n          if (typeof _this.componentWillReact === \"function\") _this.componentWillReact(); // TODO: wrap in action?\n\n          if (_this.__$mobxIsUnmounted !== true) {\n            // If we are unmounted at this point, componentWillReact() had a side effect causing the component to unmounted\n            // TODO: remove this check? Then react will properly warn about the fact that this should not happen? See #73\n            // However, people also claim this migth happen during unit tests..\n            var hasError = true;\n\n            try {\n              isForcingUpdate = true;\n              if (!skipRender) Component.prototype.forceUpdate.call(_this);\n              hasError = false;\n            } finally {\n              isForcingUpdate = false;\n              if (hasError) reaction.dispose();\n            }\n          }\n        }\n      });\n      reaction.reactComponent = _this;\n      reactiveRender.$mobx = reaction;\n      _this.render = reactiveRender;\n      return reactiveRender();\n    };\n\n    var reactiveRender = function reactiveRender() {\n      isRenderingPending = false;\n      var exception = undefined;\n      var rendering = undefined;\n      reaction.track(function () {\n        if (isDevtoolsEnabled) {\n          _this.__$mobRenderStart = Date.now();\n        }\n\n        try {\n          rendering = _allowStateChanges(false, baseRender);\n        } catch (e) {\n          exception = e;\n        }\n\n        if (isDevtoolsEnabled) {\n          _this.__$mobRenderEnd = Date.now();\n        }\n      });\n\n      if (exception) {\n        errorsReporter.emit(exception);\n        throw exception;\n      }\n\n      return rendering;\n    };\n\n    this.render = initialRender;\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    if (isUsingStaticRendering === true) return;\n    this.render.$mobx && this.render.$mobx.dispose();\n    this.__$mobxIsUnmounted = true;\n\n    if (isDevtoolsEnabled) {\n      var node = findDOMNode$2(this);\n\n      if (node && componentByNodeRegistery) {\n        componentByNodeRegistery.delete(node);\n      }\n\n      renderReporter.emit({\n        event: \"destroy\",\n        component: this,\n        node: node\n      });\n    }\n  },\n  componentDidMount: function componentDidMount() {\n    if (isDevtoolsEnabled) {\n      reportRendering(this);\n    }\n  },\n  componentDidUpdate: function componentDidUpdate() {\n    if (isDevtoolsEnabled) {\n      reportRendering(this);\n    }\n  },\n  shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n    if (isUsingStaticRendering) {\n      console.warn(\"[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side.\");\n    } // update on any state changes (as is the default)\n\n\n    if (this.state !== nextState) {\n      return true;\n    } // update if props are shallowly not equal, inspired by PureRenderMixin\n    // we could return just 'false' here, and avoid the `skipRender` checks etc\n    // however, it is nicer if lifecycle events are triggered like usually,\n    // so we return true here if props are shallowly modified.\n\n\n    return !shallowEqual(this.props, nextProps);\n  }\n  /**\n   * Observer function / decorator\n   */\n\n};\n\nfunction observer(arg1, arg2) {\n  if (typeof arg1 === \"string\") {\n    throw new Error(\"Store names should be provided as array\");\n  }\n\n  if (Array.isArray(arg1)) {\n    // component needs stores\n    if (!warnedAboutObserverInjectDeprecation) {\n      warnedAboutObserverInjectDeprecation = true;\n      console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject(\"store1\", \"store2\") @observer ComponentClass` or `inject(\"store1\", \"store2\")(observer(componentClass))` instead of `@observer([\"store1\", \"store2\"]) ComponentClass`');\n    }\n\n    if (!arg2) {\n      // invoked as decorator\n      return function (componentClass) {\n        return observer(arg1, componentClass);\n      };\n    } else {\n      return inject.apply(null, arg1)(observer(arg2));\n    }\n  }\n\n  var componentClass = arg1;\n\n  if (componentClass.isMobxInjector === true) {\n    console.warn(\"Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'\");\n  } // Stateless function component:\n  // If it is function but doesn't seem to be a react class constructor,\n  // wrap it to a react class automatically\n\n\n  if (typeof componentClass === \"function\" && (!componentClass.prototype || !componentClass.prototype.render) && !componentClass.isReactClass && !Component.isPrototypeOf(componentClass)) {\n    var _class, _temp;\n\n    return observer((_temp = _class = function (_Component) {\n      inherits(_class, _Component);\n\n      function _class() {\n        classCallCheck(this, _class);\n        return possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n      }\n\n      createClass(_class, [{\n        key: \"render\",\n        value: function render() {\n          return componentClass.call(this, this.props, this.context);\n        }\n      }]);\n      return _class;\n    }(Component), _class.displayName = componentClass.displayName || componentClass.name, _class.contextTypes = componentClass.contextTypes, _class.propTypes = componentClass.propTypes, _class.defaultProps = componentClass.defaultProps, _temp));\n  }\n\n  if (!componentClass) {\n    throw new Error(\"Please pass a valid component to 'observer'\");\n  }\n\n  var target = componentClass.prototype || componentClass;\n  mixinLifecycleEvents(target);\n  componentClass.isMobXReactObserver = true;\n  return componentClass;\n}\n\nfunction mixinLifecycleEvents(target) {\n  patch(target, \"componentWillMount\", true);\n  [\"componentDidMount\", \"componentWillUnmount\", \"componentDidUpdate\"].forEach(function (funcName) {\n    patch(target, funcName);\n  });\n\n  if (!target.shouldComponentUpdate) {\n    target.shouldComponentUpdate = reactiveMixin.shouldComponentUpdate;\n  }\n} // TODO: support injection somehow as well?\n\n\nvar Observer = observer(function (_ref) {\n  var children = _ref.children,\n      observerInject = _ref.inject,\n      render = _ref.render;\n  var component = children || render;\n\n  if (typeof component === \"undefined\") {\n    return null;\n  }\n\n  if (!observerInject) {\n    return component();\n  }\n\n  var InjectComponent = inject(observerInject)(component);\n  return React.createElement(InjectComponent, null);\n});\nObserver.displayName = \"Observer\";\n\nvar ObserverPropsCheck = function ObserverPropsCheck(props, key, componentName, location, propFullName) {\n  var extraKey = key === \"children\" ? \"render\" : \"children\";\n\n  if (typeof props[key] === \"function\" && typeof props[extraKey] === \"function\") {\n    return new Error(\"Invalid prop,do not use children and render in the same time in`\" + componentName);\n  }\n\n  if (typeof props[key] === \"function\" || typeof props[extraKey] === \"function\") {\n    return;\n  }\n\n  return new Error(\"Invalid prop `\" + propFullName + \"` of type `\" + _typeof(props[key]) + \"` supplied to\" + \" `\" + componentName + \"`, expected `function`.\");\n};\n\nObserver.propTypes = {\n  render: ObserverPropsCheck,\n  children: ObserverPropsCheck\n};\n\nvar _class;\n\nvar _temp;\n\nvar specialReactKeys = {\n  children: true,\n  key: true,\n  ref: true\n};\nvar Provider = (_temp = _class = function (_Component) {\n  inherits(Provider, _Component);\n\n  function Provider() {\n    classCallCheck(this, Provider);\n    return possibleConstructorReturn(this, (Provider.__proto__ || Object.getPrototypeOf(Provider)).apply(this, arguments));\n  }\n\n  createClass(Provider, [{\n    key: \"render\",\n    value: function render() {\n      return Children.only(this.props.children);\n    }\n  }, {\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      var stores = {}; // inherit stores\n\n      var baseStores = this.context.mobxStores;\n      if (baseStores) for (var key in baseStores) {\n        stores[key] = baseStores[key];\n      } // add own stores\n\n      for (var _key in this.props) {\n        if (!specialReactKeys[_key] && _key !== \"suppressChangedStoreWarning\") stores[_key] = this.props[_key];\n      }\n\n      return {\n        mobxStores: stores\n      };\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      // Maybe this warning is too aggressive?\n      if (Object.keys(nextProps).length !== Object.keys(this.props).length) console.warn(\"MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children\");\n      if (!nextProps.suppressChangedStoreWarning) for (var key in nextProps) {\n        if (!specialReactKeys[key] && this.props[key] !== nextProps[key]) console.warn(\"MobX Provider: Provided store '\" + key + \"' has changed. Please avoid replacing stores as the change might not propagate to all children\");\n      }\n    }\n  }]);\n  return Provider;\n}(Component), _class.contextTypes = {\n  mobxStores: objectOrObservableObject\n}, _class.childContextTypes = {\n  mobxStores: objectOrObservableObject.isRequired\n}, _temp);\nif (!Component) throw new Error(\"mobx-react requires React to be available\");\nif (!spy) throw new Error(\"mobx-react requires mobx to be available\");\nif (typeof unstable_batchedUpdates === \"function\") configure({\n  reactionScheduler: unstable_batchedUpdates\n});else if (typeof unstable_batchedUpdates$1 === \"function\") configure({\n  reactionScheduler: unstable_batchedUpdates$1\n});\n\nvar onError = function onError(fn) {\n  return errorsReporter.on(fn);\n};\n/* DevTool support */\n// See: https://github.com/andykog/mobx-devtools/blob/d8976c24b8cb727ed59f9a0bc905a009df79e221/src/backend/installGlobalHook.js\n\n\nif ((typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ === \"undefined\" ? \"undefined\" : _typeof(__MOBX_DEVTOOLS_GLOBAL_HOOK__)) === \"object\") {\n  var mobx$1 = {\n    spy: spy,\n    extras: {\n      getDebugName: getDebugName\n    }\n  };\n  var mobxReact = {\n    renderReporter: renderReporter,\n    componentByNodeRegistery: componentByNodeRegistery,\n    trackComponents: trackComponents\n  };\n\n  __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(mobxReact, mobx$1);\n}\n\nexport { propTypes, propTypes as PropTypes, onError, observer, Observer, renderReporter, componentByNodeRegistery, trackComponents, useStaticRendering, Provider, inject };","map":{"version":3,"sources":["/Users/zhangzhen/learns/React/explore/cart-mobx/node_modules/mobx-react/index.module.js"],"names":["Reaction","_allowStateChanges","configure","createAtom","getDebugName","isObservableArray","isObservableMap","isObservableObject","spy","untracked","React","Children","Component","createElement","findDOMNode","unstable_batchedUpdates","unstable_batchedUpdates$1","undefined","_typeof","Symbol","iterator","obj","constructor","prototype","asyncGenerator","AwaitValue","value","AsyncGenerator","gen","front","back","send","key","arg","Promise","resolve","reject","request","next","resume","result","then","settle","done","err","type","_invoke","return","asyncIterator","throw","wrap","fn","apply","arguments","await","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","protoProps","staticProps","inherits","subClass","superClass","create","setPrototypeOf","__proto__","possibleConstructorReturn","self","call","ReferenceError","EventEmitter","listeners","on","cb","_this","push","index","indexOf","splice","emit","data","forEach","REACT_STATICS","childContextTypes","contextTypes","defaultProps","displayName","getDefaultProps","mixins","propTypes","KNOWN_STATICS","name","caller","callee","arity","defineProperty$1","getOwnPropertyNames","getOwnPropertySymbols","getOwnPropertyDescriptor","getPrototypeOf","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","keys","concat","e","createChainableTypeChecker","validate","checkType","isRequired","propName","componentName","location","propFullName","_len","rest","Array","_key","actual","Error","chainedCheckType","bind","isSymbol","propType","propValue","getPropType","isArray","RegExp","getPreciseType","Date","createObservableTypeCheckerCreator","allowNativeType","mobxType","toLowerCase","mobxChecker","preciseType","nativeTypeExpectationMessage","createObservableArrayOfTypeChecker","typeChecker","_len2","_key2","error","observableArray","observableArrayOf","observableMap","observableObject","arrayOrObservableArray","arrayOrObservableArrayOf","objectOrObservableObject","freeze","isStateless","component","render","injectorContextTypes","mobxStores","seal","proxiedInjectorProps","get","get$$1","set","set$$1","_","console","warn","isMobxInjector","createStoreInjector","grabStoresFn","injectNames","_class","_temp2","Injector","_Component","_ref","_temp","_ret","args","storeRef","wrappedInstance","newProps","hasOwnProperty","additionalProps","context","ref","wrappedComponent","grabStoresByName","storeNames","baseStores","nextProps","storeName","inject","componentClass","injected","observer","join","isDevtoolsEnabled","isUsingStaticRendering","warnedAboutObserverInjectDeprecation","componentByNodeRegistery","WeakMap","renderReporter","findDOMNode$2","reportRendering","node","event","renderTime","__$mobRenderEnd","__$mobRenderStart","totalTime","now","trackComponents","useStaticRendering","errorsReporter","patch","funcName","runMixinFirst","base","mixinFunc","reactiveMixin","f","shallowEqual","objA","objB","is","keysA","keysB","x","y","componentWillMount","initialName","rootNodeID","_reactInternalInstance","_rootNodeID","_reactInternalFiber","_debugID","skipRender","isForcingUpdate","makePropertyObservableReference","valueHolder","atom","reportObserved","v","reportChanged","baseRender","reaction","isRenderingPending","initialRender","componentWillReact","__$mobxIsUnmounted","hasError","forceUpdate","dispose","reactComponent","reactiveRender","$mobx","exception","rendering","track","componentWillUnmount","delete","componentDidMount","componentDidUpdate","shouldComponentUpdate","nextState","state","arg1","arg2","isReactClass","isPrototypeOf","mixinLifecycleEvents","isMobXReactObserver","Observer","children","observerInject","InjectComponent","ObserverPropsCheck","extraKey","specialReactKeys","Provider","only","getChildContext","stores","componentWillReceiveProps","suppressChangedStoreWarning","reactionScheduler","onError","__MOBX_DEVTOOLS_GLOBAL_HOOK__","mobx$1","extras","mobxReact","injectMobxReact","PropTypes"],"mappings":"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","sourcesContent":["import { Reaction, _allowStateChanges, configure, createAtom, getDebugName, isObservableArray, isObservableMap, isObservableObject, spy, untracked } from 'mobx';\nimport React, { Children, Component, createElement } from 'react';\nimport { findDOMNode, unstable_batchedUpdates } from 'react-dom';\n\n// These functions can be stubbed out in specific environments\nvar unstable_batchedUpdates$1 = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\nvar asyncGenerator = function () {\n  function AwaitValue(value) {\n    this.value = value;\n  }\n\n  function AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function (resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n\n        if (value instanceof AwaitValue) {\n          Promise.resolve(value.value).then(function (arg) {\n            resume(\"next\", arg);\n          }, function (arg) {\n            resume(\"throw\", arg);\n          });\n        } else {\n          settle(result.done ? \"return\" : \"normal\", result.value);\n        }\n      } catch (err) {\n        settle(\"throw\", err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case \"return\":\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case \"throw\":\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== \"function\") {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n    AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n      return this;\n    };\n  }\n\n  AsyncGenerator.prototype.next = function (arg) {\n    return this._invoke(\"next\", arg);\n  };\n\n  AsyncGenerator.prototype.throw = function (arg) {\n    return this._invoke(\"throw\", arg);\n  };\n\n  AsyncGenerator.prototype.return = function (arg) {\n    return this._invoke(\"return\", arg);\n  };\n\n  return {\n    wrap: function (fn) {\n      return function () {\n        return new AsyncGenerator(fn.apply(this, arguments));\n      };\n    },\n    await: function (value) {\n      return new AwaitValue(value);\n    }\n  };\n}();\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\n\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar EventEmitter = function () {\n    function EventEmitter() {\n        classCallCheck(this, EventEmitter);\n        this.listeners = [];\n    }\n\n    createClass(EventEmitter, [{\n        key: \"on\",\n        value: function on(cb) {\n            var _this = this;\n\n            this.listeners.push(cb);\n            return function () {\n                var index = _this.listeners.indexOf(cb);\n                if (index !== -1) _this.listeners.splice(index, 1);\n            };\n        }\n    }, {\n        key: \"emit\",\n        value: function emit(data) {\n            this.listeners.forEach(function (fn) {\n                return fn(data);\n            });\n        }\n    }]);\n    return EventEmitter;\n}();\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n'use strict';\n\nvar REACT_STATICS = {\n    childContextTypes: true,\n    contextTypes: true,\n    defaultProps: true,\n    displayName: true,\n    getDefaultProps: true,\n    mixins: true,\n    propTypes: true,\n    type: true\n};\n\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\n\nvar defineProperty$1 = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = getPrototypeOf && getPrototypeOf(Object);\n\nvar hoistNonReactStatics = function hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n    if (typeof sourceComponent !== 'string') { // don't hoist over string (html) components\n\n        if (objectPrototype) {\n            var inheritedComponent = getPrototypeOf(sourceComponent);\n            if (inheritedComponent && inheritedComponent !== objectPrototype) {\n                hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n            }\n        }\n\n        var keys = getOwnPropertyNames(sourceComponent);\n\n        if (getOwnPropertySymbols) {\n            keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n        }\n\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!REACT_STATICS[key] && !KNOWN_STATICS[key] && (!blacklist || !blacklist[key])) {\n                var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n                try { // Avoid failures from read-only properties\n                    defineProperty$1(targetComponent, key, descriptor);\n                } catch (e) {}\n            }\n        }\n\n        return targetComponent;\n    }\n\n    return targetComponent;\n};\n\n// Copied from React.PropTypes\nfunction createChainableTypeChecker(validate) {\n    function checkType(isRequired, props, propName, componentName, location, propFullName) {\n        for (var _len = arguments.length, rest = Array(_len > 6 ? _len - 6 : 0), _key = 6; _key < _len; _key++) {\n            rest[_key - 6] = arguments[_key];\n        }\n\n        return untracked(function () {\n            componentName = componentName || \"<<anonymous>>\";\n            propFullName = propFullName || propName;\n            if (props[propName] == null) {\n                if (isRequired) {\n                    var actual = props[propName] === null ? \"null\" : \"undefined\";\n                    return new Error(\"The \" + location + \" `\" + propFullName + \"` is marked as required \" + \"in `\" + componentName + \"`, but its value is `\" + actual + \"`.\");\n                }\n                return null;\n            } else {\n                return validate.apply(undefined, [props, propName, componentName, location, propFullName].concat(rest));\n            }\n        });\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n    return chainedCheckType;\n}\n\n// Copied from React.PropTypes\nfunction isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === \"symbol\") {\n        return true;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue[\"@@toStringTag\"] === \"Symbol\") {\n        return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === \"function\" && propValue instanceof Symbol) {\n        return true;\n    }\n\n    return false;\n}\n\n// Copied from React.PropTypes\nfunction getPropType(propValue) {\n    var propType = typeof propValue === \"undefined\" ? \"undefined\" : _typeof(propValue);\n    if (Array.isArray(propValue)) {\n        return \"array\";\n    }\n    if (propValue instanceof RegExp) {\n        // Old webkits (at least until Android 4.0) return 'function' rather than\n        // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n        // passes PropTypes.object.\n        return \"object\";\n    }\n    if (isSymbol(propType, propValue)) {\n        return \"symbol\";\n    }\n    return propType;\n}\n\n// This handles more types than `getPropType`. Only used for error messages.\n// Copied from React.PropTypes\nfunction getPreciseType(propValue) {\n    var propType = getPropType(propValue);\n    if (propType === \"object\") {\n        if (propValue instanceof Date) {\n            return \"date\";\n        } else if (propValue instanceof RegExp) {\n            return \"regexp\";\n        }\n    }\n    return propType;\n}\n\nfunction createObservableTypeCheckerCreator(allowNativeType, mobxType) {\n    return createChainableTypeChecker(function (props, propName, componentName, location, propFullName) {\n        return untracked(function () {\n            if (allowNativeType) {\n                if (getPropType(props[propName]) === mobxType.toLowerCase()) return null;\n            }\n            var mobxChecker = void 0;\n            switch (mobxType) {\n                case \"Array\":\n                    mobxChecker = isObservableArray;\n                    break;\n                case \"Object\":\n                    mobxChecker = isObservableObject;\n                    break;\n                case \"Map\":\n                    mobxChecker = isObservableMap;\n                    break;\n                default:\n                    throw new Error(\"Unexpected mobxType: \" + mobxType);\n            }\n            var propValue = props[propName];\n            if (!mobxChecker(propValue)) {\n                var preciseType = getPreciseType(propValue);\n                var nativeTypeExpectationMessage = allowNativeType ? \" or javascript `\" + mobxType.toLowerCase() + \"`\" : \"\";\n                return new Error(\"Invalid prop `\" + propFullName + \"` of type `\" + preciseType + \"` supplied to\" + \" `\" + componentName + \"`, expected `mobx.Observable\" + mobxType + \"`\" + nativeTypeExpectationMessage + \".\");\n            }\n            return null;\n        });\n    });\n}\n\nfunction createObservableArrayOfTypeChecker(allowNativeType, typeChecker) {\n    return createChainableTypeChecker(function (props, propName, componentName, location, propFullName) {\n        for (var _len2 = arguments.length, rest = Array(_len2 > 5 ? _len2 - 5 : 0), _key2 = 5; _key2 < _len2; _key2++) {\n            rest[_key2 - 5] = arguments[_key2];\n        }\n\n        return untracked(function () {\n            if (typeof typeChecker !== \"function\") {\n                return new Error(\"Property `\" + propFullName + \"` of component `\" + componentName + \"` has \" + \"invalid PropType notation.\");\n            }\n            var error = createObservableTypeCheckerCreator(allowNativeType, \"Array\")(props, propName, componentName);\n            if (error instanceof Error) return error;\n            var propValue = props[propName];\n            for (var i = 0; i < propValue.length; i++) {\n                error = typeChecker.apply(undefined, [propValue, i, componentName, location, propFullName + \"[\" + i + \"]\"].concat(rest));\n                if (error instanceof Error) return error;\n            }\n            return null;\n        });\n    });\n}\n\nvar observableArray = createObservableTypeCheckerCreator(false, \"Array\");\nvar observableArrayOf = createObservableArrayOfTypeChecker.bind(null, false);\nvar observableMap = createObservableTypeCheckerCreator(false, \"Map\");\nvar observableObject = createObservableTypeCheckerCreator(false, \"Object\");\nvar arrayOrObservableArray = createObservableTypeCheckerCreator(true, \"Array\");\nvar arrayOrObservableArrayOf = createObservableArrayOfTypeChecker.bind(null, true);\nvar objectOrObservableObject = createObservableTypeCheckerCreator(true, \"Object\");\n\n\n\nvar propTypes = Object.freeze({\n\tobservableArray: observableArray,\n\tobservableArrayOf: observableArrayOf,\n\tobservableMap: observableMap,\n\tobservableObject: observableObject,\n\tarrayOrObservableArray: arrayOrObservableArray,\n\tarrayOrObservableArrayOf: arrayOrObservableArrayOf,\n\tobjectOrObservableObject: objectOrObservableObject\n});\n\nfunction isStateless(component) {\n    // `function() {}` has prototype, but `() => {}` doesn't\n    // `() => {}` via Babel has prototype too.\n    return !(component.prototype && component.prototype.render);\n}\n\nvar injectorContextTypes = {\n    mobxStores: objectOrObservableObject\n};\nObject.seal(injectorContextTypes);\n\nvar proxiedInjectorProps = {\n    contextTypes: {\n        get: function get$$1() {\n            return injectorContextTypes;\n        },\n        set: function set$$1(_) {\n            console.warn(\"Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`\");\n        },\n        configurable: true,\n        enumerable: false\n    },\n    isMobxInjector: {\n        value: true,\n        writable: true,\n        configurable: true,\n        enumerable: true\n    }\n\n    /**\n     * Store Injection\n     */\n};function createStoreInjector(grabStoresFn, component, injectNames) {\n    var _class, _temp2;\n\n    var displayName = \"inject-\" + (component.displayName || component.name || component.constructor && component.constructor.name || \"Unknown\");\n    if (injectNames) displayName += \"-with-\" + injectNames;\n\n    var Injector = (_temp2 = _class = function (_Component) {\n        inherits(Injector, _Component);\n\n        function Injector() {\n            var _ref;\n\n            var _temp, _this, _ret;\n\n            classCallCheck(this, Injector);\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n            }\n\n            return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = Injector.__proto__ || Object.getPrototypeOf(Injector)).call.apply(_ref, [this].concat(args))), _this), _this.storeRef = function (instance) {\n                _this.wrappedInstance = instance;\n            }, _temp), possibleConstructorReturn(_this, _ret);\n        }\n\n        createClass(Injector, [{\n            key: \"render\",\n            value: function render() {\n                // Optimization: it might be more efficient to apply the mapper function *outside* the render method\n                // (if the mapper is a function), that could avoid expensive(?) re-rendering of the injector component\n                // See this test: 'using a custom injector is not too reactive' in inject.js\n                var newProps = {};\n                for (var key in this.props) {\n                    if (this.props.hasOwnProperty(key)) {\n                        newProps[key] = this.props[key];\n                    }\n                }var additionalProps = grabStoresFn(this.context.mobxStores || {}, newProps, this.context) || {};\n                for (var _key2 in additionalProps) {\n                    newProps[_key2] = additionalProps[_key2];\n                }\n\n                if (!isStateless(component)) {\n                    newProps.ref = this.storeRef;\n                }\n\n                return createElement(component, newProps);\n            }\n        }]);\n        return Injector;\n    }(Component), _class.displayName = displayName, _temp2);\n\n    // Static fields from component should be visible on the generated Injector\n\n    hoistNonReactStatics(Injector, component);\n\n    Injector.wrappedComponent = component;\n    Object.defineProperties(Injector, proxiedInjectorProps);\n\n    return Injector;\n}\n\nfunction grabStoresByName(storeNames) {\n    return function (baseStores, nextProps) {\n        storeNames.forEach(function (storeName) {\n            if (storeName in nextProps // prefer props over stores\n            ) return;\n            if (!(storeName in baseStores)) throw new Error(\"MobX injector: Store '\" + storeName + \"' is not available! Make sure it is provided by some Provider\");\n            nextProps[storeName] = baseStores[storeName];\n        });\n        return nextProps;\n    };\n}\n\n/**\n * higher order component that injects stores to a child.\n * takes either a varargs list of strings, which are stores read from the context,\n * or a function that manually maps the available stores from the context to props:\n * storesToProps(mobxStores, props, context) => newProps\n */\nfunction inject() /* fn(stores, nextProps) or ...storeNames */{\n    var grabStoresFn = void 0;\n    if (typeof arguments[0] === \"function\") {\n        grabStoresFn = arguments[0];\n        return function (componentClass) {\n            var injected = createStoreInjector(grabStoresFn, componentClass);\n            injected.isMobxInjector = false; // supress warning\n            // mark the Injector as observer, to make it react to expressions in `grabStoresFn`,\n            // see #111\n            injected = observer(injected);\n            injected.isMobxInjector = true; // restore warning\n            return injected;\n        };\n    } else {\n        var storeNames = [];\n        for (var i = 0; i < arguments.length; i++) {\n            storeNames[i] = arguments[i];\n        }grabStoresFn = grabStoresByName(storeNames);\n        return function (componentClass) {\n            return createStoreInjector(grabStoresFn, componentClass, storeNames.join(\"-\"));\n        };\n    }\n}\n\n/**\n * dev tool support\n */\nvar isDevtoolsEnabled = false;\n\nvar isUsingStaticRendering = false;\n\nvar warnedAboutObserverInjectDeprecation = false;\n\n// WeakMap<Node, Object>;\nvar componentByNodeRegistery = typeof WeakMap !== \"undefined\" ? new WeakMap() : undefined;\nvar renderReporter = new EventEmitter();\n\nfunction findDOMNode$2(component) {\n    if (findDOMNode) {\n        try {\n            return findDOMNode(component);\n        } catch (e) {\n            // findDOMNode will throw in react-test-renderer, see:\n            // See https://github.com/mobxjs/mobx-react/issues/216\n            // Is there a better heuristic?\n            return null;\n        }\n    }\n    return null;\n}\n\nfunction reportRendering(component) {\n    var node = findDOMNode$2(component);\n    if (node && componentByNodeRegistery) componentByNodeRegistery.set(node, component);\n\n    renderReporter.emit({\n        event: \"render\",\n        renderTime: component.__$mobRenderEnd - component.__$mobRenderStart,\n        totalTime: Date.now() - component.__$mobRenderStart,\n        component: component,\n        node: node\n    });\n}\n\nfunction trackComponents() {\n    if (typeof WeakMap === \"undefined\") throw new Error(\"[mobx-react] tracking components is not supported in this browser.\");\n    if (!isDevtoolsEnabled) isDevtoolsEnabled = true;\n}\n\nfunction useStaticRendering(useStaticRendering) {\n    isUsingStaticRendering = useStaticRendering;\n}\n\n/**\n * Errors reporter\n */\n\nvar errorsReporter = new EventEmitter();\n\n/**\n * Utilities\n */\n\nfunction patch(target, funcName) {\n    var runMixinFirst = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    var base = target[funcName];\n    var mixinFunc = reactiveMixin[funcName];\n    var f = !base ? mixinFunc : runMixinFirst === true ? function () {\n        mixinFunc.apply(this, arguments);\n        base.apply(this, arguments);\n    } : function () {\n        base.apply(this, arguments);\n        mixinFunc.apply(this, arguments);\n    };\n\n    // MWE: ideally we freeze here to protect against accidental overwrites in component instances, see #195\n    // ...but that breaks react-hot-loader, see #231...\n    target[funcName] = f;\n}\n\nfunction shallowEqual(objA, objB) {\n    //From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n    if (is(objA, objB)) return true;\n    if ((typeof objA === \"undefined\" ? \"undefined\" : _typeof(objA)) !== \"object\" || objA === null || (typeof objB === \"undefined\" ? \"undefined\" : _typeof(objB)) !== \"object\" || objB === null) {\n        return false;\n    }\n    var keysA = Object.keys(objA);\n    var keysB = Object.keys(objB);\n    if (keysA.length !== keysB.length) return false;\n    for (var i = 0; i < keysA.length; i++) {\n        if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction is(x, y) {\n    // From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n    if (x === y) {\n        return x !== 0 || 1 / x === 1 / y;\n    } else {\n        return x !== x && y !== y;\n    }\n}\n\n/**\n * ReactiveMixin\n */\nvar reactiveMixin = {\n    componentWillMount: function componentWillMount() {\n        var _this = this;\n\n        if (isUsingStaticRendering === true) return;\n        // Generate friendly name for debugging\n        var initialName = this.displayName || this.name || this.constructor && (this.constructor.displayName || this.constructor.name) || \"<component>\";\n        var rootNodeID = this._reactInternalInstance && this._reactInternalInstance._rootNodeID || this._reactInternalFiber && this._reactInternalFiber._debugID;\n\n        /**\n         * If props are shallowly modified, react will render anyway,\n         * so atom.reportChanged() should not result in yet another re-render\n         */\n        var skipRender = false;\n        /**\n         * forceUpdate will re-assign this.props. We don't want that to cause a loop,\n         * so detect these changes\n         */\n        var isForcingUpdate = false;\n\n        function makePropertyObservableReference(propName) {\n            var valueHolder = this[propName];\n            var atom = createAtom(\"reactive \" + propName);\n            Object.defineProperty(this, propName, {\n                configurable: true,\n                enumerable: true,\n                get: function get$$1() {\n                    atom.reportObserved();\n                    return valueHolder;\n                },\n                set: function set$$1(v) {\n                    if (!isForcingUpdate && !shallowEqual(valueHolder, v)) {\n                        valueHolder = v;\n                        skipRender = true;\n                        atom.reportChanged();\n                        skipRender = false;\n                    } else {\n                        valueHolder = v;\n                    }\n                }\n            });\n        }\n\n        // make this.props an observable reference, see #124\n        makePropertyObservableReference.call(this, \"props\");\n        // make state an observable reference\n        makePropertyObservableReference.call(this, \"state\");\n\n        // wire up reactive render\n        var baseRender = this.render.bind(this);\n        var reaction = null;\n        var isRenderingPending = false;\n\n        var initialRender = function initialRender() {\n            reaction = new Reaction(initialName + \"#\" + rootNodeID + \".render()\", function () {\n                if (!isRenderingPending) {\n                    // N.B. Getting here *before mounting* means that a component constructor has side effects (see the relevant test in misc.js)\n                    // This unidiomatic React usage but React will correctly warn about this so we continue as usual\n                    // See #85 / Pull #44\n                    isRenderingPending = true;\n                    if (typeof _this.componentWillReact === \"function\") _this.componentWillReact(); // TODO: wrap in action?\n                    if (_this.__$mobxIsUnmounted !== true) {\n                        // If we are unmounted at this point, componentWillReact() had a side effect causing the component to unmounted\n                        // TODO: remove this check? Then react will properly warn about the fact that this should not happen? See #73\n                        // However, people also claim this migth happen during unit tests..\n                        var hasError = true;\n                        try {\n                            isForcingUpdate = true;\n                            if (!skipRender) Component.prototype.forceUpdate.call(_this);\n                            hasError = false;\n                        } finally {\n                            isForcingUpdate = false;\n                            if (hasError) reaction.dispose();\n                        }\n                    }\n                }\n            });\n            reaction.reactComponent = _this;\n            reactiveRender.$mobx = reaction;\n            _this.render = reactiveRender;\n            return reactiveRender();\n        };\n\n        var reactiveRender = function reactiveRender() {\n            isRenderingPending = false;\n            var exception = undefined;\n            var rendering = undefined;\n            reaction.track(function () {\n                if (isDevtoolsEnabled) {\n                    _this.__$mobRenderStart = Date.now();\n                }\n                try {\n                    rendering = _allowStateChanges(false, baseRender);\n                } catch (e) {\n                    exception = e;\n                }\n                if (isDevtoolsEnabled) {\n                    _this.__$mobRenderEnd = Date.now();\n                }\n            });\n            if (exception) {\n                errorsReporter.emit(exception);\n                throw exception;\n            }\n            return rendering;\n        };\n\n        this.render = initialRender;\n    },\n\n    componentWillUnmount: function componentWillUnmount() {\n        if (isUsingStaticRendering === true) return;\n        this.render.$mobx && this.render.$mobx.dispose();\n        this.__$mobxIsUnmounted = true;\n        if (isDevtoolsEnabled) {\n            var node = findDOMNode$2(this);\n            if (node && componentByNodeRegistery) {\n                componentByNodeRegistery.delete(node);\n            }\n            renderReporter.emit({\n                event: \"destroy\",\n                component: this,\n                node: node\n            });\n        }\n    },\n\n    componentDidMount: function componentDidMount() {\n        if (isDevtoolsEnabled) {\n            reportRendering(this);\n        }\n    },\n\n    componentDidUpdate: function componentDidUpdate() {\n        if (isDevtoolsEnabled) {\n            reportRendering(this);\n        }\n    },\n\n    shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n        if (isUsingStaticRendering) {\n            console.warn(\"[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side.\");\n        }\n        // update on any state changes (as is the default)\n        if (this.state !== nextState) {\n            return true;\n        }\n        // update if props are shallowly not equal, inspired by PureRenderMixin\n        // we could return just 'false' here, and avoid the `skipRender` checks etc\n        // however, it is nicer if lifecycle events are triggered like usually,\n        // so we return true here if props are shallowly modified.\n        return !shallowEqual(this.props, nextProps);\n    }\n\n    /**\n     * Observer function / decorator\n     */\n};function observer(arg1, arg2) {\n    if (typeof arg1 === \"string\") {\n        throw new Error(\"Store names should be provided as array\");\n    }\n    if (Array.isArray(arg1)) {\n        // component needs stores\n        if (!warnedAboutObserverInjectDeprecation) {\n            warnedAboutObserverInjectDeprecation = true;\n            console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject(\"store1\", \"store2\") @observer ComponentClass` or `inject(\"store1\", \"store2\")(observer(componentClass))` instead of `@observer([\"store1\", \"store2\"]) ComponentClass`');\n        }\n        if (!arg2) {\n            // invoked as decorator\n            return function (componentClass) {\n                return observer(arg1, componentClass);\n            };\n        } else {\n            return inject.apply(null, arg1)(observer(arg2));\n        }\n    }\n    var componentClass = arg1;\n\n    if (componentClass.isMobxInjector === true) {\n        console.warn(\"Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'\");\n    }\n\n    // Stateless function component:\n    // If it is function but doesn't seem to be a react class constructor,\n    // wrap it to a react class automatically\n    if (typeof componentClass === \"function\" && (!componentClass.prototype || !componentClass.prototype.render) && !componentClass.isReactClass && !Component.isPrototypeOf(componentClass)) {\n        var _class, _temp;\n\n        return observer((_temp = _class = function (_Component) {\n            inherits(_class, _Component);\n\n            function _class() {\n                classCallCheck(this, _class);\n                return possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n            }\n\n            createClass(_class, [{\n                key: \"render\",\n                value: function render() {\n                    return componentClass.call(this, this.props, this.context);\n                }\n            }]);\n            return _class;\n        }(Component), _class.displayName = componentClass.displayName || componentClass.name, _class.contextTypes = componentClass.contextTypes, _class.propTypes = componentClass.propTypes, _class.defaultProps = componentClass.defaultProps, _temp));\n    }\n\n    if (!componentClass) {\n        throw new Error(\"Please pass a valid component to 'observer'\");\n    }\n\n    var target = componentClass.prototype || componentClass;\n    mixinLifecycleEvents(target);\n    componentClass.isMobXReactObserver = true;\n    return componentClass;\n}\n\nfunction mixinLifecycleEvents(target) {\n    patch(target, \"componentWillMount\", true);[\"componentDidMount\", \"componentWillUnmount\", \"componentDidUpdate\"].forEach(function (funcName) {\n        patch(target, funcName);\n    });\n    if (!target.shouldComponentUpdate) {\n        target.shouldComponentUpdate = reactiveMixin.shouldComponentUpdate;\n    }\n}\n\n// TODO: support injection somehow as well?\nvar Observer = observer(function (_ref) {\n    var children = _ref.children,\n        observerInject = _ref.inject,\n        render = _ref.render;\n\n    var component = children || render;\n    if (typeof component === \"undefined\") {\n        return null;\n    }\n    if (!observerInject) {\n        return component();\n    }\n    var InjectComponent = inject(observerInject)(component);\n    return React.createElement(InjectComponent, null);\n});\n\nObserver.displayName = \"Observer\";\n\nvar ObserverPropsCheck = function ObserverPropsCheck(props, key, componentName, location, propFullName) {\n    var extraKey = key === \"children\" ? \"render\" : \"children\";\n    if (typeof props[key] === \"function\" && typeof props[extraKey] === \"function\") {\n        return new Error(\"Invalid prop,do not use children and render in the same time in`\" + componentName);\n    }\n\n    if (typeof props[key] === \"function\" || typeof props[extraKey] === \"function\") {\n        return;\n    }\n    return new Error(\"Invalid prop `\" + propFullName + \"` of type `\" + _typeof(props[key]) + \"` supplied to\" + \" `\" + componentName + \"`, expected `function`.\");\n};\n\nObserver.propTypes = {\n    render: ObserverPropsCheck,\n    children: ObserverPropsCheck\n};\n\nvar _class;\nvar _temp;\n\nvar specialReactKeys = { children: true, key: true, ref: true };\n\nvar Provider = (_temp = _class = function (_Component) {\n    inherits(Provider, _Component);\n\n    function Provider() {\n        classCallCheck(this, Provider);\n        return possibleConstructorReturn(this, (Provider.__proto__ || Object.getPrototypeOf(Provider)).apply(this, arguments));\n    }\n\n    createClass(Provider, [{\n        key: \"render\",\n        value: function render() {\n            return Children.only(this.props.children);\n        }\n    }, {\n        key: \"getChildContext\",\n        value: function getChildContext() {\n            var stores = {};\n            // inherit stores\n            var baseStores = this.context.mobxStores;\n            if (baseStores) for (var key in baseStores) {\n                stores[key] = baseStores[key];\n            }\n            // add own stores\n            for (var _key in this.props) {\n                if (!specialReactKeys[_key] && _key !== \"suppressChangedStoreWarning\") stores[_key] = this.props[_key];\n            }return {\n                mobxStores: stores\n            };\n        }\n    }, {\n        key: \"componentWillReceiveProps\",\n        value: function componentWillReceiveProps(nextProps) {\n            // Maybe this warning is too aggressive?\n            if (Object.keys(nextProps).length !== Object.keys(this.props).length) console.warn(\"MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children\");\n            if (!nextProps.suppressChangedStoreWarning) for (var key in nextProps) {\n                if (!specialReactKeys[key] && this.props[key] !== nextProps[key]) console.warn(\"MobX Provider: Provided store '\" + key + \"' has changed. Please avoid replacing stores as the change might not propagate to all children\");\n            }\n        }\n    }]);\n    return Provider;\n}(Component), _class.contextTypes = {\n    mobxStores: objectOrObservableObject\n}, _class.childContextTypes = {\n    mobxStores: objectOrObservableObject.isRequired\n}, _temp);\n\nif (!Component) throw new Error(\"mobx-react requires React to be available\");\nif (!spy) throw new Error(\"mobx-react requires mobx to be available\");\n\nif (typeof unstable_batchedUpdates === \"function\") configure({ reactionScheduler: unstable_batchedUpdates });else if (typeof unstable_batchedUpdates$1 === \"function\") configure({ reactionScheduler: unstable_batchedUpdates$1 });\n\nvar onError = function onError(fn) {\n    return errorsReporter.on(fn);\n};\n\n/* DevTool support */\n// See: https://github.com/andykog/mobx-devtools/blob/d8976c24b8cb727ed59f9a0bc905a009df79e221/src/backend/installGlobalHook.js\n\nif ((typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ === \"undefined\" ? \"undefined\" : _typeof(__MOBX_DEVTOOLS_GLOBAL_HOOK__)) === \"object\") {\n    var mobx$1 = { spy: spy, extras: { getDebugName: getDebugName } };\n    var mobxReact = { renderReporter: renderReporter, componentByNodeRegistery: componentByNodeRegistery, trackComponents: trackComponents };\n    __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(mobxReact, mobx$1);\n}\n\nexport { propTypes, propTypes as PropTypes, onError, observer, Observer, renderReporter, componentByNodeRegistery, trackComponents, useStaticRendering, Provider, inject };\n"]},"metadata":{},"sourceType":"module"}